## 计算两张图片的巴氏系数

算法步骤详解：

大致可以分为两步，根据源图像与候选图像的像素数据，生成各自直方图数据。第二步：使用第一步输出的直方图结果，运用巴氏系数（Bhattacharyya coefficient）算法，计算出相似程度值。


### 第一步：直方图计算

直方图分为灰度直方图与RGB直方图，对于灰度图像直方图计算十分简单，只要初始化一个大小为256的直方图数组H，然后根据像素值完成频率分布统计，假设像素值为124，

则H[124] += 1, 而对于彩色RGB像素来说直方图表达有两种方式，一种是单一直方图，另外一种是三维直方图，三维直方图比较简单明了，分别对应RGB三种颜色，

定义三个直方图HR, HG, HB, 假设某一个像素点P的RGB值为(4, 231,129), 则对于的直方图计算为HR[4] += 1, HG[231] += 1, HB[129] += 1, 

如此对每个像素点完成统计以后，RGB彩色直方图数据就生成了。而RGB像素的单一直方图SH表示稍微复杂点，每个颜色的值范围为0 ~ 255之间的，

假设可以分为一定范围等份，当8等份时，每个等份的值范围为32， 16等份时，每个等份值范

围为16，当4等份时候，每个等份值的范围为64，假设RGB值为(14, 68, 221), 16等份之

后，它对应直方图索引值(index)分别为: (0, 4, 13), 根据计算索引值公式:index = R + G*16 + B*16*16

对应的直方图index = 0 + 4*16 + 13 * 16 * 16， SH[3392] += 1

如此遍历所有RGB像素值，完成直方图数据计算。


### 第二步：巴氏系数计算，计算公式如下：

BC(p,q) = ∑√p(x)q(x)

其中p(x), q(x)分别代表源与候选的图像直方图数据，对每个相同i的数据点乘积开平方以后相加

得出的结果即为图像相似度值（巴氏系数因子值），范围为0到1之间。
